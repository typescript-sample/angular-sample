<div class="profile view-container">
    <form id='userForm' name='userForm'>
        <header class='border-bottom-highlight'>
            <div class='cover-image'>
                <img src='https://pre00.deviantart.net/6ecb/th/pre/f/2013/086/3/d/facebook_cover_1_by_alphacid-d5zfrww.jpg'
                    alt='cover' />
                <div class='contact-group'>
                    <button id='btnPhone' name='btnPhone' class='btn-phone'></button>
                    <button id='btnEmail' name='btnEmail' class='btn-email'></button>
                </div>
                <button id='btnFollow' name='btnFollow' class='btn-follow'>Follow</button>
            </div>
            <button id='btnCamera' name='btnCamera' class='btn-camera'></button>
            <div class='avatar-wrapper'>
                <img class='avatar'
                    [src]="user.image || 'https://www.bluebridgewindowcleaning.co.uk/wp-content/uploads/2016/04/default-avatar.png'"
                    alt='avatar' />
                <img class='profile-status' [src]='imageOnline' alt='status' />
            </div>
            <div class='profile-title'>
                <h3>{{user.displayName}}</h3>
                <p>{{user.website}}</p>
            </div>
            <div class='profile-followers'>
                <p><i class='material-icons highlight'>group</i> {{followers}}</p>
                <p><i class='material-icons highlight'>group_add</i> {{following}}</p>
            </div>

        </header>
        <div class="row">
            <div class='col m12 l4'>
                <div class='card'>
                    <header>
                        <i class='material-icons highlight'>account_box</i>
                        {{resource.user_profile_basic_info}}
                        <button type='button' id='btnBasicInfo' name='btnBasicInfo' [hidden]='isEditing'
                            class='btn-edit' (click)="confirmModal.open()"></button>
                    </header>
                    <p>{{user.occupation}}</p>
                    <p>{{user.company}}</p>
                </div>

                <div class='card' *ngIf="!isEditingSkill">
                    <header>
                        <i class='material-icons highlight'>local_mall</i>
                        {{resource.skills}}
                        <button type='button' id='btnSkill' name='btnSkill' [hidden]='isEditing' class='btn-edit'
                            (click)='toggleSkill($event)'></button>
                    </header>
                    <section>
                        <ng-container *ngFor="let item of user.skills; let i = index;">
                            <p>{{item.skill}}<i [hidden]='!item.hirable' class='star highlight'></i></p>
                        </ng-container>

                        <hr />
                        <p class='description'>
                            <i class='star highlight'></i>
                            {{resource.user_profile_hireable_skill}}
                        </p>
                    </section>
                </div>
                <div class='card' *ngIf="isEditingSkill">
                    <header>
                        <i class='material-icons highlight'>local_mall</i>
                        {{resource.skills}}
                        <button type='button' id='btnSkill' name='btnSkill' class='btn-close'
                            (click)="toggleSkill($event)"></button>
                    </header>
                    <section>
                        <ng-container *ngFor="let item of user.skills; let i=index">
                            <div class='chip'>
                                {{item.skill}}
                                <i *ngIf="item.hirable" class='star highlight'></i>
                                <button type='button' name='btnRemoveSkill' class='close'
                                    (click)="removeSkill($event, item.skill)"></button>
                            </div>
                        </ng-container>
                        <!-- <label class='checkbox-container'>
                            <input type='checkbox' id='hireable' name='hireable' [(ngModel)]="edit.hireable" />
                            {{resource.user_profile_hireable_skill}}
                        </label> -->
                        <label class='form-group inline-input'>
                            <input 
                            list='listSkill'
                            type="text"
                            name='skill' 
                            class='form-control' 
                            [(ngModel)]="edit.skill"
                            [placeholder]="resource.placeholder_user_profile_skill" 
                            maxLength="100" 
                            (input)="onChangeSkill()"
                            autoComplete="on"
                            />
                            <datalist id='listSkill' *ngIf="listSkill">
            
                                <option *ngFor="let skill of listSkill;let i = index" [value]="skill"></option>;
                              
                            </datalist>
                            
                            <button type='button' id='btnAddLookingFor' name='btnAddLookingFor' class='btn-add'
                                (click)="addLookingFor($event)"></button>
                        </label>
                        <hr />
                        <p class='description'>
                            <i class='star highlight'></i>{{resource.user_profile_hireable_skill}}
                        </p>
                    </section>
                    <footer>
                        <button type='button' id='btnSaveSkill' name='btnSaveSkill' (click)="saveChanges($event)">
                            {{resource.save}}
                        </button>
                    </footer>
                </div>

                <div class='card' *ngIf="!isEditingLookingFor">
                    <header>
                        <i class='material-icons highlight'>find_in_page</i>
                        {{resource.user_profile_looking_for}}
                        <button type='button' id='btnLookingFor' name='btnLookingFor'
                            [hidden]="isEditing && !isEditingLookingFor" class='btn-edit'
                            (click)="toggleLookingFor($event)"></button>
                    </header>
                    <section>
                        <ng-container *ngFor="let item of user.lookingFor; let i = index">
                            <p>{{item}}</p>
                        </ng-container>

                    </section>
                </div>

                <div class='card' *ngIf="isEditingLookingFor">
                    <header>
                        <i class='material-icons highlight'>find_in_page</i>
                        {{resource.user_profile_looking_for}}
                        <button type='button' id='btnLookingFor' name='btnLookingFor' class='btn-close'
                            (click)="toggleLookingFor($event)"></button>
                    </header>
                    <section>
                        <ng-container *ngFor="let item of user.lookingFor;let i = index">
                            <div class='chip' [tabIndex]="i">
                                {{item}}
                                <button type='button' name='btnRemoveLookingFor' class='close'
                                    (click)='removeLookingFor($event, item)'></button>
                            </div>
                        </ng-container>

                        <label class='form-group inline-input'>
                            <input 
                            list='listLookingFor'
                            type="text"
                            name='lookingFor' 
                            class='form-control' 
                            [(ngModel)]="edit.lookingFor"
                            [placeholder]="resource.placeholder_user_profile_looking_for" 
                            maxLength="100" 
                            (input)="onChangeLookingFor()"
                            autoComplete="on"
                            />
                            <datalist id='listLookingFor' *ngIf="listLookingFor">
            
                                <option *ngFor="let lookingFor of listLookingFor;let i = index" [value]="lookingFor"></option>;
                              
                            </datalist>
                            <button type='button' id='btnAddLookingFor' name='btnAddLookingFor' class='btn-add'
                                (click)="addLookingFor($event)"></button>
                        </label>
                    </section>
                    <footer>
                        <button type='button' id='btnSaveLookingFor' name='btnSaveLookingFor'
                            (click)="saveChanges($event)">
                            {{resource.save}}
                        </button>
                    </footer>
                </div>

                <div class='card'>
                    <header>
                        <i class='material-icons highlight'>chat</i>
                        {{resource.user_profile_social}}
                        <button type='button' id='btnSocial' name='btnSocial' [hidden]="isEditing"
                            class='btn-edit'></button>
                    </header>
                    <div>

                        <a *ngIf="user.facebookLink" [href]="'https://facebookcom/' + user.facebookLink"
                            title='facebook' target='_blank' rel="noreferrer">
                            <i class='fa fa-facebook'></i>
                            <span>facebook</span>
                        </a>
                        <a *ngIf="user.skypeLink" [href]="'https://skype.com/' + user.skypeLink" title='Skype'
                            target='_blank' rel="noreferrer">
                            <i class='fa fa-skype'></i>
                            <span>Skype</span>
                        </a>


                        <a *ngIf="user.twitterLink" [href]="'https://twitter.com/' + user.twitterLink" title='Twitter'
                            target='_blank' rel="noreferrer">
                            <i class='fa fa-twitter'></i>
                            <span>Twitter</span>
                        </a>


                        <a *ngIf="user.instagramLink" [href]="'https://instagram.com/' + user.instagramLink"
                            title='Instagram' target='_blank' rel="noreferrer">
                            <i class='fa fa-instagram'></i>
                            <span>Instagram</span>
                        </a>



                        <a *ngIf="user.linkedinLink" [href]="'https://linkedin.com/' + user.linkedinLink"
                            title='Linked in' target='_blank' rel="noreferrer">
                            <i class='fa fa-linkedin'></i>
                            <span>Linked in</span>
                        </a>



                        <a *ngIf="user.googleLink" [href]="'https://plus.google.com/' + user.googleLink" title='Google'
                            target='_blank' rel="noreferrer">
                            <i class='fa fa-google'></i>
                            <span>Google</span>
                        </a>


                        <a *ngIf="user.dribbbleLink" [href]="'https://dribbble.com/' + user.dribbbleLink"
                            title='dribbble' target='_blank' rel="noreferrer">
                            <i class='fa fa-dribbble'></i>
                            <span>dribbble</span>
                        </a>




                        <a *ngIf="user.customLink01" [href]="user.customLink01" target='_blank' rel="noreferrer">
                            <i class='fab fa-globe-asia'></i>
                        </a>


                        <a *ngIf="user.customLink02" [href]="user.customLink02" target='_blank' rel="noreferrer">
                            <i class='fab fa-globe-asia'></i>
                        </a>


                        <a *ngIf="user.customLink03" [href]="user.customLink03" target='_blank' rel="noreferrer">
                            <i class='fab fa-globe-asia'></i>
                        </a>


                        <a *ngIf="user.customLink04" [href]="user.customLink04" target='_blank' rel="noreferrer">
                            <i class='fab fa-globe-asia'></i>
                        </a>


                        <a *ngIf="user.customLink05" [href]="user.customLink05" target='_blank' rel="noreferrer">
                            <i class='fab fa-globe-asia'></i>
                        </a>


                        <a *ngIf="user.customLink06" [href]="user.customLink06" target='_blank' rel="noreferrer">
                            <i class='fab fa-globe-asia'></i>
                        </a>

                        <a *ngIf="user.customLink07" [href]="user.customLink07" target='_blank' rel="noreferrer">
                            <i class='fab fa-globe-asia'></i>
                        </a>

                        <a *ngIf="user.customLink08" [href]="user.customLink08" target='_blank' rel="noreferrer">
                            <i class='fab fa-globe-asia'></i>
                        </a>

                    </div>
                </div>

            </div>
            <div class='col m12 l8'>
                <div class='card border-bottom-highlight'>
                    <header>
                        <i class='material-icons highlight'>person</i>
                        {{resource.user_profile_bio}}
                        <button type='button' id='btnBio' name='btnBio' [hidden]="isEditing && !isEditingBio"
                            [class]="!isEditingBio ? 'btn-edit' : 'btn-close'" (click)="toggleBio($event)"></button>
                    </header>

                    <p *ngIf="!isEditingBio">{{user.bio}}</p>
                    <textarea *ngIf="isEditingBio" name='bio' [(ngModel)]="user.bio"></textarea>

                    <footer *ngIf="isEditingBio">
                        <button type='button' id='btnSaveBio' name='btnSaveBio' (click)="saveChanges($event)">
                            {{resource.save}}
                        </button>
                    </footer>

                </div>
                <div class='card border-bottom-highlight'>
                    <header>
                        <i class='material-icons highlight'>flash_on</i>
                        {{resource.interests}}
                        <button type='button' id='btnInterest' name='btnInterest'
                            [hidden]="isEditing && !isEditingInterest"
                            [ngClass]="!isEditingInterest ? 'btn-edit' : 'btn-close'"
                            (click)="toggleInterest($event)"></button>
                    </header>

                    <section class='row' *ngIf="!isEditingInterest">
                        <ng-container *ngFor="let item of user.interests; let i = index">
                            <span class='col s4'>{{item}}</span>
                        </ng-container>
                    </section>

                    <section class='row' *ngIf="isEditingInterest">
                        <ng-container *ngFor="let item of user.interests; let i = index">
                            <div class='chip' [tabIndex]='i'>{{item}}
                                <button type='button' name='btnRemoveInterest' class='close'
                                    (click)="removeInterest($event, item)"></button>
                            </div>
                        </ng-container>


                        <label class='col s12 inline-input'>

                            <input 
                                list='listInterest'
                                type='text' 
                                name='interest'
                                [placeholder]="resource.placeholder_user_profile_interest" 
                                [(ngModel)]="edit.interest"
                                maxLength="100"
                                (input)="onChangeInterest()"
                                autoComplete="on"
                                />
                            <datalist id='listInterest' *ngIf="listInterest">
        
                                <option *ngFor="let interest of listInterest;let i = index" [value]="interest"></option>;
                                
                            </datalist>

                            <button type='button' id='btnAddInterest' name='btnAddInterest' class='btn-add'
                                (click)="addInterest($event)"></button>
                        </label>
                    </section>

                    <footer *ngIf="isEditingInterest">
                        <button type='button' id='btnSaveInterest' name='btnSaveInterest' (click)="saveChanges($event)">
                            {{resource.save}}
                        </button>
                    </footer>
                </div>

                <div class='card border-bottom-highlight'>
                    <header>
                        <i class='material-icons highlight'>beenhere</i>
                        {{resource.achievements}}
                        <button type='button' id='btnAchievement' name='btnAchievement'
                            [hidden]="isEditing && !isEditingAchievement"
                            [class]="!isEditingAchievement ? 'btn-edit' : 'btn-close'"
                            (click)="toggleAchievement($event)"></button>
                    </header>

                    <ng-container *ngIf="!isEditingAchievement && user.achievements">
                        <ng-container *ngFor="let achievement of user.achievements; let i = index">
                            <section>
                                <h3>{{achievement.subject}}
                                    <i *ngIf="achievement.highlight" class='star highlight float-right'></i>
                                </h3>
                                <p class='description'>{{achievement.description}}</p>
                                <hr />
                            </section>
                        </ng-container>
                    </ng-container>

                    <ng-container *ngIf="isEditingAchievement && user.achievements">
                        <ng-container *ngFor="let achievement of user.achievements; let i = index">
                            <section>
                                <h3>{{achievement.subject}}
                                    <i class='star highlight' *ngIf="achievement.highlight"></i>
                                </h3>
                                <p class='description'>{{achievement.description}}</p>
                                <button type='button' class='btn-remove'
                                    (click)="removeAchievement($event, achievement.subject)"></button>
                                <hr />
                            </section>
                        </ng-container>
                    </ng-container>
                    <section *ngIf="isEditingAchievement">
                        <div class='form-group'>
                            <input type='text' name='subject' class='form-control' [(ngModel)]="edit.subject"
                                [placeholder]="resource.placeholder_user_profile_achievement_subject" maxLength="50"
                                required="true" />
                            <input type='text' name='description' class='form-control' [(ngModel)]="edit.description"
                                [placeholder]="resource.placeholder_user_profile_achievement_description"
                                maxLength="100" required="true" />
                        </div>
                        <label class='checkbox-container'>
                            <input type='checkbox' id='highlight' name='highlight' [(ngModel)]="edit.highlight" />
                            {{resource.user_profile_highlight_achievement}}
                        </label>
                        <div class='btn-group'>
                            <button type='button' id='btnAddAchievement' name='btnAddAchievement'
                                class='btn-add'></button>
                            {{resource.button_add_achievement}}
                        </div>
                    </section>

                    <footer *ngIf="isEditingAchievement">
                        <button type='button' id='btnSaveAchievement' name='btnSaveAchievement'
                            (click)="saveChanges($event)">
                            {{resource.save}}
                        </button>

                    </footer>
                    <app-modal #confirmModal role="dialog">
                        <ng-template #header>
                            <header class='modal-portal-header'>
                                <h2>{{resource.user_profile_general_info}}</h2>
                                <button type="button" id='btnClose' name='btnClose' class='btn-close'
                                    (click)='confirmModal.close()'></button>
                            </header>
                        </ng-template>
                        <ng-template #body>
                            <app-general-info [resource]="resource" (closeModalFn)="confirmModal.close()"
                                (onSave)="saveEmit($event)" [user]="user"></app-general-info>
                        </ng-template>
                        <!-- <ng-template #footer>
                            <button type='button' id='btnSave' name='btnSave' (click)='revertBioChages()'>
                                OK
                              </button>
                        </ng-template> -->
                    </app-modal>
                </div>
            </div>
        </div>
    </form>
</div>